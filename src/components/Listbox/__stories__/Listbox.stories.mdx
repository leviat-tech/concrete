import { ArgsTable, Story, Canvas, Meta, Source  } from "@storybook/addon-docs";
import CListbox from '../Listbox.vue';

<Meta
  title="Components/Listbox"
  component={CListbox}
  argTypes={{
    size: {
      options: ['lg', 'md', 'sm', 'xs'],
      control: { type: 'select' },
    },
    color: {
      options: ['default', 'indigo', 'sky', 'steel', 'success', 'warning', 'danger'],
      control: { type: 'select' },
    },
    placeholder: {
      control:'text',
    },
    disabled: {
      control:'boolean',
    },
    transparent: {
      control:'boolean',
    },
    optionListSize: {
      options: ['lg', 'md', 'sm', 'xs', 'auto'],
      control: { type: 'select' },
    },
    options: {
      table: { disable: true },
    },
    modelValue: {
      table: { disable: true },
    },
    formatter: {
      table: { disable: true },
    },
    multiple: {
      table: { disable: true },
    },
    onChange: {
      table: { disable: true },
    },
  }}
/>

<!--- Component template -->

export const componentTemplate = (args) => ({
  components: { CListbox },
  setup() {
    return { args };
  },
  data() {
    return {
      value: null,
    }
  },
  template: '<CListbox class="w-64" id="listbox-single" v-bind="args" v-model="value"></CListbox>',
});

export const componentTemplateMultiple = (args) => ({
  components: { CListbox },
  setup() {
    return { args };
  },
  data() {
    return {
      value: [],
    }
  },
  template: '<CListbox class="w-64" id="listbox-multiple" v-bind="args" v-model="value"></CListbox>',
});

<!--- Component documentation -->

# Listbox

<Canvas withSource='none'>
  <Story name="Overview" height="200px"
        args={{
          options: ['Listbox', 'Test', 'Values', 'Storybook'],
        }}>
    {componentTemplate.bind({})}
  </Story>
</Canvas>

## Props
<ArgsTable story="Overview" />

## Usage
<Source
  language='html'
  dark
  format={false}
  code={`
const value = null;
const options = ['Listbox', 'Test', 'Values', 'Storybook'];
<CListbox v-model="value" id="listbox-single" :options="options"></CListbox>
`}
/>

# Variants

## Multiple Select
<Canvas withSource='none'>
  <Story name="Multiple" height="200px"
        args={{
          options: ['Listbox', 'Test', 'Values', 'Storybook'],
          multiple: true,
        }}>
    {componentTemplateMultiple.bind({})}
  </Story>
</Canvas>

<Source
  language='html'
  dark
  format={false}
  code={`
const value = [];
const options = ['Listbox', 'Test', 'Values', 'Storybook'];
<CListbox v-model="value" id="listbox-multiple" :options="options" :multiple="true"></CListbox>
`}
/>


## Formatted Labels
<Canvas withSource='none'>
  <Story name="Formatted" height="200px"
        args={{
          options: ['Listbox', 'Test', 'Values', 'Storybook'],
          formatter: (l) => l.toUpperCase(),
        }}>
    {componentTemplateMultiple.bind({})}
  </Story>
</Canvas>

<Source
  language='html'
  dark
  format={false}
  code={`
const value = null;
const options = ['Listbox', 'Test', 'Values', 'Storybook'];
const formatter = (l) => l.toUpperCase();
<CListbox v-model="value" id="listbox-multiple" :options="options" :formatter="formatter"></CListbox>
`}
/>
